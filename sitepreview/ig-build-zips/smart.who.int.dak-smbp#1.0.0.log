FHIR IG Publisher Version 2.0.8 (Git# e7d965b03a28). Built 2025-06-27T22:18:09.321Z (3 days old)
Detected Java version: 23-ea from /usr/local/openjdk-23 on amd64 (64bit). 4096MB available
dir = /workspace, path = /home/publisher/bin:/home/publisher/bin/ig-publisher-scripts:/home/publisher/.node/bin:/usr/local/openjdk-23/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
Parameters: -go-publish -package-cache-folder /workspace/fhir-package-cache -source /workspace/source -web /workspace/webroot -temp /workspace/temp -registry /workspace/ig-registry/fhir-ig-list.json -history /workspace/history-template -templates /workspace/webroot/templates
---------------
Publication Run: publish /workspace/source to /workspace/webroot
Relative directory for IG is '/dak-smbp'
===== Web Publication Run Details ===============================
 Source IG: smart.who.int.dak-smbp#1.0.0 : http://smart.who.int/dak-smbp (R4) from /workspace/source
All checks passed. Do the publication build from /workspace/source and publish to /workspace/temp/web-root/run-20250701/dak-smbp
Prepare Build space in /workspace/temp/ig-builds/smart.who.int.dak-smbp#1.0.0
Build IG at /workspace/source: final copy suitable for publication (in /workspace/temp/ig-builds/smart.who.int.dak-smbp#1.0.0)
FHIR IG Publisher Version 2.0.8 (Git# e7d965b03a28). Built 2025-06-27T22:18:09.321Z (3 days old)    
Detected Java version: 23-ea from /usr/local/openjdk-23 on Linux/amd64 (64bit). 4096MB available    
dir = /workspace, path = /home/publisher/bin:/home/publisher/bin/ig-publisher-scripts:/home/publisher/.node/bin:/usr/local/openjdk-23/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
Parameters: -ig /workspace/temp/ig-builds/smart.who.int.dak-smbp#1.0.0 -resetTx -publish http://smart.who.int/dak-smbp/v1.0.0 -no-exit
Character encoding = UTF-8 / UTF-8                                                                  
Start Clock @ Tuesday, July 1, 2025, 6:57:19â€¯AM Coordinated Universal Time (2025-07-01T06:57:19Z)   
                                                                                                    
Build FHIR IG from /workspace/temp/ig-builds/smart.who.int.dak-smbp#1.0.0                            (00:00.023 / 00:00.023, 50Mb)
Build Formal Publication package, intended for http://smart.who.int/dak-smbp/v1.0.0                  (00:00.003 / 00:00.026, 50Mb)
API keys loaded from /home/publisher/.fhir/fhir-settings.json                                        (00:00.001 / 00:00.027, 50Mb)
Package Cache: /home/publisher/.fhir/packages                                                        (00:00.008 / 00:00.036, 17Mb)
Found dependency on smart.who.int.base#0.1.0 in Sushi config. Pre-installing                         (00:00.004 / 00:00.040, 17Mb)
[39mInstalling smart.who.int.base#0.1.0 to the package cache
[0;39m[39m  Fetching:
[0;39m[39m
[0;39m[39mInstalling smart.who.int.base#0.1.0
[0;39m[39m done.
[0;39mRun Sushi on /workspace/temp/ig-builds/smart.who.int.dak-smbp#1.0.0                                  (00:00.847 / 00:00.887, 34Mb)
Sushi: info  Running SUSHI v3.16.2 (implements FHIR Shorthand specification v3.0.0)                  (00:00.468 / 00:01.356, 21Mb)
Sushi: info  Arguments:                                                                              (00:00.001 / 00:01.357, 21Mb)
Sushi: info    --require-latest                                                                      (00:00.001 / 00:01.358, 21Mb)
Sushi: info    --out /workspace/temp/ig-builds/smart.who.int.dak-smbp#1.0.0                          (00:00.001 / 00:01.359, 21Mb)
Sushi: info    /workspace/temp/ig-builds/smart.who.int.dak-smbp#1.0.0                                (00:00.001 / 00:01.361, 21Mb)
Sushi: info  Using configuration file: /workspace/temp/ig-builds/smart.who.int.dak-smbp#1.0.0/sushi-config.yaml (00:00.374 / 00:01.735, 21Mb)
Sushi: info  Importing FSH text...                                                                   (00:00.111 / 00:01.846, 21Mb)
Sushi: info  Preprocessed 3 documents with 15 aliases.                                               (00:00.040 / 00:01.887, 21Mb)
Sushi: info  Imported 0 definitions and 0 instances.                                                 (00:00.001 / 00:01.888, 21Mb)
Sushi: info  Loaded virtual package sushi-r5forR4#1.0.0 with 7 resources                             (00:00.089 / 00:01.977, 21Mb)
Sushi: info  Resolved hl7.fhir.uv.tools.r4#latest to concrete version 0.5.0                          (00:00.544 / 00:02.522, 21Mb)
Sushi: info  Attempting to download hl7.fhir.uv.tools.r4#0.5.0 from https://packages.fhir.org/hl7.fhir.uv.tools.r4/0.5.0 (00:00.000 / 00:02.522, 21Mb)
Sushi: info  Downloaded hl7.fhir.uv.tools.r4#0.5.0                                                   (00:00.344 / 00:02.866, 21Mb)
Sushi: info  Cached hl7.fhir.uv.tools.r4#0.5.0 to /home/publisher/.fhir/packages/hl7.fhir.uv.tools.r4#0.5.0 (00:00.001 / 00:02.868, 21Mb)
Sushi: info  Loaded hl7.fhir.uv.tools.r4#0.5.0 with 88 resources                                     (00:00.040 / 00:02.909, 21Mb)
Sushi: info  Resolved hl7.terminology.r4#latest to concrete version 6.4.0                            (00:00.122 / 00:03.031, 21Mb)
Sushi: info  Attempting to download hl7.terminology.r4#6.4.0 from https://packages.fhir.org/hl7.terminology.r4/6.4.0 (00:00.000 / 00:03.032, 21Mb)
Sushi: info  Downloaded hl7.terminology.r4#6.4.0                                                     (00:01.401 / 00:04.434, 21Mb)
Sushi: info  Cached hl7.terminology.r4#6.4.0 to /home/publisher/.fhir/packages/hl7.terminology.r4#6.4.0 (00:00.001 / 00:04.435, 21Mb)
Sushi: info  Loaded hl7.terminology.r4#6.4.0 with 4381 resources                                     (00:00.991 / 00:05.426, 21Mb)
Sushi: info  Resolved hl7.fhir.uv.extensions.r4#latest to concrete version 5.2.0                     (00:00.125 / 00:05.552, 21Mb)
Sushi: info  Attempting to download hl7.fhir.uv.extensions.r4#5.2.0 from https://packages.fhir.org/hl7.fhir.uv.extensions.r4/5.2.0 (00:00.000 / 00:05.552, 21Mb)
Sushi: info  Downloaded hl7.fhir.uv.extensions.r4#5.2.0                                              (00:00.395 / 00:05.948, 22Mb)
Sushi: info  Cached hl7.fhir.uv.extensions.r4#5.2.0 to /home/publisher/.fhir/packages/hl7.fhir.uv.extensions.r4#5.2.0 (00:00.001 / 00:05.949, 22Mb)
Sushi: info  Loaded hl7.fhir.uv.extensions.r4#5.2.0 with 759 resources                               (00:00.183 / 00:06.132, 22Mb)
Sushi: info  Loaded smart.who.int.base#0.1.0 with 17 resources                                       (00:00.012 / 00:06.145, 22Mb)
Sushi: info  Attempting to download hl7.fhir.r4.core#4.0.1 from https://packages.fhir.org/hl7.fhir.r4.core/4.0.1 (00:00.000 / 00:06.145, 22Mb)
Sushi: info  Downloaded hl7.fhir.r4.core#4.0.1                                                       (00:01.095 / 00:07.241, 22Mb)
Sushi: info  Cached hl7.fhir.r4.core#4.0.1 to /home/publisher/.fhir/packages/hl7.fhir.r4.core#4.0.1  (00:00.000 / 00:07.242, 22Mb)
Sushi: info  Loaded hl7.fhir.r4.core#4.0.1 with 4581 resources                                       (00:00.896 / 00:08.139, 22Mb)
Sushi: info  Found 1 non-JSON / non-XML file(s) in directory: /workspace/temp/ig-builds/smart.who.int.dak-smbp#1.0.0/input/examples. Only resource files with JSON or XML extensions are supported. To see the skipped files in the logs, use debug logging. (00:00.006 / 00:08.145, 22Mb)
Sushi: info  Found 1 non-JSON / non-XML file(s) in directory: /workspace/temp/ig-builds/smart.who.int.dak-smbp#1.0.0/input/extensions. Only resource files with JSON or XML extensions are supported. To see the skipped files in the logs, use debug logging. (00:00.001 / 00:08.147, 22Mb)
Sushi: info  Found 1 non-JSON / non-XML file(s) in directory: /workspace/temp/ig-builds/smart.who.int.dak-smbp#1.0.0/input/models. Only resource files with JSON or XML extensions are supported. To see the skipped files in the logs, use debug logging. (00:00.003 / 00:08.150, 22Mb)
Sushi: info  Found 1 non-JSON / non-XML file(s) in directory: /workspace/temp/ig-builds/smart.who.int.dak-smbp#1.0.0/input/profiles. Only resource files with JSON or XML extensions are supported. To see the skipped files in the logs, use debug logging. (00:00.002 / 00:08.153, 22Mb)
Sushi: info  Found 1 non-JSON / non-XML file(s) in directory: /workspace/temp/ig-builds/smart.who.int.dak-smbp#1.0.0/input/resources. Only resource files with JSON or XML extensions are supported. To see the skipped files in the logs, use debug logging. (00:00.002 / 00:08.155, 22Mb)
Sushi: info  Found 1 non-JSON / non-XML file(s) in directory: /workspace/temp/ig-builds/smart.who.int.dak-smbp#1.0.0/input/vocabulary. Only resource files with JSON or XML extensions are supported. To see the skipped files in the logs, use debug logging. (00:00.001 / 00:08.156, 22Mb)
Sushi: info  Loaded virtual package sushi-local#LOCAL with 0 resources                               (00:00.001 / 00:08.158, 22Mb)
Sushi: info  Converting FSH to FHIR resources...                                                     (00:00.011 / 00:08.170, 22Mb)
Sushi: info  Exporting FHIR resources as JSON...                                                     (00:00.002 / 00:08.172, 22Mb)
Sushi: info  Exported 0 FHIR resources as JSON.                                                      (00:00.000 / 00:08.173, 22Mb)
Sushi: info  Assembling Implementation Guide sources...                                              (00:00.001 / 00:08.174, 22Mb)
Sushi: info  Generated ImplementationGuide-smart.who.int.dak-smbp.json                               (00:00.037 / 00:08.212, 22Mb)
Sushi: info  Assembled Implementation Guide sources; ready for IG Publisher.                         (00:00.000 / 00:08.213, 22Mb)
Sushi: ========================= SUSHI RESULTS ===========================                           (00:00.000 / 00:08.213, 22Mb)
Sushi: |  -------------------------------------------------------------  |                           (00:00.000 / 00:08.214, 22Mb)
Sushi: | |    Profiles   |  Extensions  |   Logicals   |   Resources   | |                           (00:00.000 / 00:08.215, 22Mb)
Sushi: | |-------------------------------------------------------------| |                           (00:00.000 / 00:08.215, 22Mb)
Sushi: | |       0       |      0       |      0       |       0       | |                           (00:00.000 / 00:08.216, 22Mb)
Sushi: |  -------------------------------------------------------------  |                           (00:00.000 / 00:08.217, 22Mb)
Sushi: |  -------------------------------------------------------------  |                           (00:00.000 / 00:08.218, 22Mb)
Sushi: | |      ValueSets     |    CodeSystems    |     Instances      | |                           (00:00.000 / 00:08.218, 22Mb)
Sushi: | |-------------------------------------------------------------| |                           (00:00.000 / 00:08.219, 22Mb)
Sushi: | |         0          |         0         |         0          | |                           (00:00.000 / 00:08.220, 22Mb)
Sushi: |  -------------------------------------------------------------  |                           (00:00.000 / 00:08.220, 22Mb)
Sushi: |                                                                 |                           (00:00.000 / 00:08.221, 22Mb)
Sushi: ===================================================================                           (00:00.000 / 00:08.222, 22Mb)
Sushi: | It doesn't get any betta than this!    0 Errors      0 Warnings |                           (00:00.000 / 00:08.222, 22Mb)
Sushi: ===================================================================                           (00:00.000 / 00:08.223, 22Mb)
Unable to load IG as an r5 IG - try R4 (property code is a class com.google.gson.JsonPrimitive looking for an object) (00:00.432 / 00:08.655, 40Mb)
Load Template from who.template.root#current                                                         (00:00.405 / 00:09.061, 33Mb)
[39mInstalling who.template.root#current to the package cache
[0;39m[39m  Fetching:
[0;39m[39m
[0;39m[39mInstalling who.template.root#current
[0;39m[39m done.
[0;39m Load Template from fhir.base.template#current                                                       (00:00.791 / 00:09.852, 63Mb)
[39mInstalling fhir.base.template#current to the package cache
[0;39m[39m  Fetching:
[0;39m[39m
[0;39m[39mInstalling fhir.base.template#current
[0;39m[39m done.
[0;39mRoot directory: /workspace/temp/ig-builds/smart.who.int.dak-smbp#1.0.0                               (00:02.953 / 00:12.806, 106Mb)
Terminology Cache is at /workspace/temp/ig-builds/smart.who.int.dak-smbp#1.0.0/input-cache/txcache. Clearing now (00:00.378 / 00:13.184, 120Mb)
Core Package hl7.fhir.r4.core#4.0.1
Signing Certificate: RSA key for Subject: OU=IG Publisher, L=Ann Arbor, CN=hl7.org, O=HL7, ST=Missouri, C=us from: OU=IG Publisher, L=Ann Arbor, CN=hl7.org, O=HL7, ST=Missouri, C=us
Running Terminology Log: /tmp/ohfu-fhir-ig-2680977853844929544.html
Connect to Terminology Server at http://tx.fhir.org                                                  (00:10.672 / 00:23.856, 224Mb)
[39mInstalling hl7.fhir.pubpack#0.2.3 to the package cache
[0;39m[39m  Fetching:
[0;39m[39m
[0;39m[39mInstalling hl7.fhir.pubpack#0.2.3
[0;39m[39m done.
[0;39m[39mLoad Package hl7.fhir.pubpack#0.2.3
[0;39m[39mInstalling hl7.fhir.xver-extensions#0.1.0 to the package cache
[0;39m[39m  Fetching:
[0;39m[39m
[0;39m[39mInstalling hl7.fhir.xver-extensions#0.1.0
[0;39m[39m done.
[0;39m[39mLoad Package hl7.fhir.xver-extensions#0.1.0
[0;39m[39mLoad Package hl7.terminology.r4#6.4.0
[0;39m[39mLoad Package hl7.fhir.uv.extensions.r4#5.2.0
[0;39m[39mInstalling hl7.terminology#5.5.0 to the package cache
[0;39m[39m  Fetching:
[0;39m[39m
[0;39m[39mInstalling hl7.terminology#5.5.0
[0;39m[39m done.
[0;39m[39mInstalling hl7.fhir.uv.extensions.r4#1.0.0 to the package cache
[0;39m[39m  Fetching:
[0;39m[39m
[0;39m[39mInstalling hl7.fhir.uv.extensions.r4#1.0.0
[0;39m[39m done.
[0;39m[39mLoad Package hl7.fhir.uv.extensions.r4#1.0.0
[0;39m[39mLoad Package hl7.terminology#5.5.0
[0;39m[39mInstalling hl7.fhir.uv.extensions.r4#5.1.0 to the package cache
[0;39m[39m  Fetching:
[0;39m[39m
[0;39m[39mInstalling hl7.fhir.uv.extensions.r4#5.1.0
[0;39m[39m done.
[0;39m[39mLoad Package hl7.fhir.uv.extensions.r4#5.1.0
[0;39m[39mInstalling hl7.fhir.uv.cql#1.0.0 to the package cache
[0;39m[39m  Fetching:
[0;39m[39m
[0;39m[39mInstalling hl7.fhir.uv.cql#1.0.0
[0;39m[39m done.
[0;39m[39mLoad Package hl7.fhir.uv.cql#1.0.0
[0;39m[39mInstalling hl7.fhir.uv.crmi#1.0.0 to the package cache
[0;39m[39m  Fetching:
[0;39m[39m
[0;39m[39mInstalling hl7.fhir.uv.crmi#1.0.0
[0;39m[39m done.
[0;39m[39mLoad Package hl7.fhir.uv.crmi#1.0.0
[0;39m[39mInstalling hl7.fhir.uv.sdc#3.0.0 to the package cache
[0;39m[39m  Fetching:
[0;39m[39m
[0;39m[39mInstalling hl7.fhir.uv.sdc#3.0.0
[0;39m[39m done.
[0;39mIgnore Dependency on Core FHIR hl7.fhir.r4.examples#4.0.1, from package 'hl7.fhir.uv.sdc#3.0.0'      (00:14.660 / 00:38.517, 490Mb)
[39mLoad Package hl7.fhir.uv.sdc#3.0.0
[0;39m[39mLoad Package smart.who.int.base#0.1.0
[0;39m[39mLoad Package hl7.fhir.uv.tools.r4#0.5.0
[0;39mLoad R5 Specials
[39mInstalling hl7.fhir.r5.core#5.0.0 to the package cache
[0;39m[39m  Fetching:
[0;39m[39m
[0;39m[39mInstalling hl7.fhir.r5.core#5.0.0
[0;39m[39m done.
[0;39mInitialization complete                                                                              (00:03.497 / 00:42.014, 619Mb)
Load IG                                                                                              (00:00.000 / 00:42.015, 619Mb)
Load Content                                                                                         (00:00.001 / 00:42.017, 619Mb)
Using en-US as the default narrative language. (no language information in Implementation Guide)     (00:00.087 / 00:42.105, 625Mb)
Process Loaded Resources                                                                             (00:00.094 / 00:42.199, 628Mb)
Generating Snapshots                                                                                 (00:00.060 / 00:42.260, 633Mb)
loadPrePages from FetchedFile[/workspace/temp/ig-builds/smart.who.int.dak-smbp#1.0.0/fsh-generated/includes] as /workspace/temp/ig-builds/smart.who.int.dak-smbp#1.0.0/fsh-generated/includes
loadPrePages from FetchedFile[/workspace/temp/ig-builds/smart.who.int.dak-smbp#1.0.0/input/data] as /workspace/temp/ig-builds/smart.who.int.dak-smbp#1.0.0/input/data
loadPrePages from FetchedFile[/workspace/temp/ig-builds/smart.who.int.dak-smbp#1.0.0/input/pagecontent] as /workspace/temp/ig-builds/smart.who.int.dak-smbp#1.0.0/input/pagecontent
Fetch http://smart.who.int/dak-smbp/package-list.json for version check                              (00:00.061 / 00:42.321, 638Mb)
Processing Conformance Resources                                                                     (00:00.060 / 00:42.381, 639Mb)
Checking Language                                                                                    (00:00.001 / 00:42.382, 639Mb)
Load Dependency Info                                                                                 (00:00.001 / 00:42.383, 639Mb)
Load Info                                                                                            (00:00.001 / 00:42.385, 639Mb)
Load Paths                                                                                           (00:00.001 / 00:42.386, 640Mb)
Check R4 / R4B                                                                                       (00:00.001 / 00:42.387, 640Mb)
Assign Comparison Ids                                                                                (00:00.015 / 00:42.402, 642Mb)
Propagating status                                                                                   (00:00.001 / 00:42.403, 642Mb)
Generating Narratives                                                                                (00:00.000 / 00:42.404, 642Mb)
Validating Conformance Resources                                                                     (00:00.130 / 00:42.534, 657Mb)
Check profiles & code systems                                                                        (00:10.536 / 00:53.071, 1Gb)
Check realm rules                                                                                    (00:00.000 / 00:53.071, 1Gb)
Previous Version Comparison                                                                          (00:00.000 / 00:53.072, 1Gb)
Validating Resources                                                                                 (00:00.008 / 00:53.081, 1Gb)
Processing Provenance Records                                                                        (00:00.000 / 00:53.081, 1Gb)
Checking for Bundles to sign                                                                         (00:00.000 / 00:53.082, 1Gb)
Generating Outputs in /workspace/temp/ig-builds/smart.who.int.dak-smbp#1.0.0/output                  (00:00.000 / 00:53.083, 1Gb)
Generate Native Outputs                                                                              (00:00.071 / 00:53.154, 1Gb)
Run Template                                                                                         (00:00.091 / 00:53.246, 1Gb)
Generate HTML Outputs                                                                                (00:00.794 / 00:54.040, 1Gb)
Generate Spreadsheets                                                                                (00:00.088 / 00:54.129, 1Gb)
Generate Summaries                                                                                   (00:00.000 / 00:54.130, 1Gb)
Generating Summary Outputs                                                                           (00:00.001 / 00:54.131, 1Gb)
DB Cumulative Time invested: 00:00:00.53
Sending Usage Stats to Server                                                                        (00:08.878 / 01:03.010, 1Gb)
## Memory (MB): Use = 1782, Free = 502, Total = 2284, Max = 4096                                     (00:00.004 / 01:03.014, 1Gb)
Reclaiming memory...                                                                                 (00:00.000 / 01:03.015, 1Gb)
## Memory (MB): Use = 860, Free = 1423, Total = 2284, Max = 4096                                     (00:00.408 / 01:03.424, 862Mb)
Run jekyll: jekyll build --destination "/workspace/temp/ig-builds/smart.who.int.dak-smbp#1.0.0/output" (in folder /workspace/temp/ig-builds/smart.who.int.dak-smbp#1.0.0/temp/pages) (00:00.001 / 01:03.426, 862Mb)
Troubleshooting Note: usual cases for Jekyll to fail are:                                            (00:00.000 / 01:03.427, 862Mb)
* A failure to produce a fragment that is already logged in the output above                         (00:00.000 / 01:03.428, 862Mb)
* A reference to a manually edited file that hasn't been provided                                    (00:00.000 / 01:03.428, 862Mb)
Jekyll: Source: /workspace/temp/ig-builds/smart.who.int.dak-smbp#1.0.0/temp/pages                    (00:00.370 / 01:03.798, 865Mb)
Jekyll: Generating...                                                                                (00:00.000 / 01:03.799, 865Mb)
Jekyll: done in 0.438 seconds.                                                                       (00:00.436 / 01:04.236, 865Mb)
[39m
[0;39m[39mInstalling smart.who.int.dak-smbp#1.0.0
[0;39m[39m done.
[0;39mChecking Output HTML                                                                                 (00:00.693 / 01:04.930, 936Mb)
found 615 files                                                                                      (00:00.005 / 01:04.936, 936Mb)
........................................
........................................
  ... 615 html files, 0 pages invalid xhtml (0%)                                                     (00:01.376 / 01:06.313, 1Gb)
  ... 1821 links, 0 broken links (0%)                                                                (00:00.001 / 01:06.315, 1Gb)
Generate fragment-usage-analysis.csv                                                                 (00:00.001 / 01:06.316, 1Gb)
Build final .zip                                                                                     (00:00.008 / 01:06.324, 1Gb)
Final .zip built                                                                                     (00:00.684 / 01:07.009, 1Gb)
[39mInstalling hl7.fhir.r4.examples#4.0.1 to the package cache
[0;39m[39m  Fetching:
[0;39m[39m
[0;39m[39mInstalling hl7.fhir.r4.examples#4.0.1
[0;39m[39m done.
[0;39mBuilt. Times: loading: 00:00.364, generate: 00:39.796, narrative generation: 00:00.129, validation: 00:10.534, realm-rules: 00:00.000, previous-version: 00:00.000, jekyll: 00:00.816, template: 00:00.803 (#3) (00:15.168 / 01:22.177, 1Gb)
Generating QA                                                                                        (00:00.002 / 01:22.180, 1Gb)
Validation output in /workspace/temp/ig-builds/smart.who.int.dak-smbp#1.0.0/output/qa.html
Errors: 2, Warnings: 7, Info: 0, Broken Links: 0 (00:00.143 / 01:22.323, 1Gb)
Finished @ 7/1/25, 6:58â€¯AM. Max Memory Used = 1Gb. Log file saved in /tmp/fhir-ig-publisher-tmp.log  (00:00.009 / 01:22.332, 1Gb)
Prepare Build space in /workspace/temp/ig-builds/smart.who.int.dak-smbp#1.0.0-milestone
Build IG at /workspace/source: final copy suitable for publication (in /workspace/temp/ig-builds/smart.who.int.dak-smbp#1.0.0-milestone) (milestone build)
FHIR IG Publisher Version 2.0.8 (Git# e7d965b03a28). Built 2025-06-27T22:18:09.321Z (3 days old)    
Detected Java version: 23-ea from /usr/local/openjdk-23 on Linux/amd64 (64bit). 4096MB available    
dir = /workspace, path = /home/publisher/bin:/home/publisher/bin/ig-publisher-scripts:/home/publisher/.node/bin:/usr/local/openjdk-23/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
Parameters: -ig /workspace/temp/ig-builds/smart.who.int.dak-smbp#1.0.0-milestone -publish http://smart.who.int/dak-smbp/v1.0.0 -milestone -no-exit
Character encoding = UTF-8 / UTF-8                                                                  
Start Clock @ Tuesday, July 1, 2025, 6:58:43â€¯AM Coordinated Universal Time (2025-07-01T06:58:43Z)   
                                                                                                    
Build FHIR IG from /workspace/temp/ig-builds/smart.who.int.dak-smbp#1.0.0-milestone                  (00:00.002 / 00:00.002, 1Gb)
Build Formal Publication package, intended for http://smart.who.int/dak-smbp/v1.0.0                  (00:00.000 / 00:00.002, 1Gb)
API keys loaded from /home/publisher/.fhir/fhir-settings.json                                        (00:00.000 / 00:00.003, 1Gb)
Package Cache: /home/publisher/.fhir/packages                                                        (00:00.000 / 00:00.004, 1Gb)
Run Sushi on /workspace/temp/ig-builds/smart.who.int.dak-smbp#1.0.0-milestone                        (00:00.001 / 00:00.004, 1Gb)
Sushi: info  Running SUSHI v3.16.2 (implements FHIR Shorthand specification v3.0.0)                  (00:00.416 / 00:00.421, 1Gb)
Sushi: info  Arguments:                                                                              (00:00.000 / 00:00.421, 1Gb)
Sushi: info    --require-latest                                                                      (00:00.000 / 00:00.422, 1Gb)
Sushi: info    --out /workspace/temp/ig-builds/smart.who.int.dak-smbp#1.0.0-milestone                (00:00.000 / 00:00.423, 1Gb)
Sushi: info    /workspace/temp/ig-builds/smart.who.int.dak-smbp#1.0.0-milestone                      (00:00.000 / 00:00.423, 1Gb)
Sushi: info  Using configuration file: /workspace/temp/ig-builds/smart.who.int.dak-smbp#1.0.0-milestone/sushi-config.yaml (00:00.679 / 00:01.103, 1Gb)
Sushi: info  Importing FSH text...                                                                   (00:00.105 / 00:01.208, 1Gb)
Sushi: info  Preprocessed 3 documents with 15 aliases.                                               (00:00.036 / 00:01.244, 1Gb)
Sushi: info  Imported 0 definitions and 0 instances.                                                 (00:00.003 / 00:01.248, 1Gb)
Sushi: info  Loaded virtual package sushi-r5forR4#1.0.0 with 7 resources                             (00:00.090 / 00:01.338, 1Gb)
Sushi: info  Resolved hl7.fhir.uv.tools.r4#latest to concrete version 0.5.0                          (00:00.573 / 00:01.912, 1Gb)
Sushi: info  Loaded hl7.fhir.uv.tools.r4#0.5.0 with 88 resources                                     (00:00.042 / 00:01.954, 1Gb)
Sushi: info  Resolved hl7.terminology.r4#latest to concrete version 6.4.0                            (00:00.127 / 00:02.081, 1Gb)
Sushi: info  Loaded hl7.terminology.r4#6.4.0 with 4381 resources                                     (00:00.999 / 00:03.081, 1Gb)
Sushi: info  Resolved hl7.fhir.uv.extensions.r4#latest to concrete version 5.2.0                     (00:00.129 / 00:03.210, 1Gb)
Sushi: info  Loaded hl7.fhir.uv.extensions.r4#5.2.0 with 759 resources                               (00:00.178 / 00:03.388, 1Gb)
Sushi: info  Loaded smart.who.int.base#0.1.0 with 17 resources                                       (00:00.011 / 00:03.400, 1Gb)
Sushi: info  Loaded hl7.fhir.r4.core#4.0.1 with 4581 resources                                       (00:00.916 / 00:04.316, 1Gb)
Sushi: info  Found 1 non-JSON / non-XML file(s) in directory: /workspace/temp/ig-builds/smart.who.int.dak-smbp#1.0.0-milestone/input/examples. Only resource files with JSON or XML extensions are supported. To see the skipped files in the logs, use debug logging. (00:00.007 / 00:04.324, 1Gb)
Sushi: info  Found 1 non-JSON / non-XML file(s) in directory: /workspace/temp/ig-builds/smart.who.int.dak-smbp#1.0.0-milestone/input/extensions. Only resource files with JSON or XML extensions are supported. To see the skipped files in the logs, use debug logging. (00:00.001 / 00:04.325, 1Gb)
Sushi: info  Found 1 non-JSON / non-XML file(s) in directory: /workspace/temp/ig-builds/smart.who.int.dak-smbp#1.0.0-milestone/input/models. Only resource files with JSON or XML extensions are supported. To see the skipped files in the logs, use debug logging. (00:00.001 / 00:04.327, 1Gb)
Sushi: info  Found 1 non-JSON / non-XML file(s) in directory: /workspace/temp/ig-builds/smart.who.int.dak-smbp#1.0.0-milestone/input/profiles. Only resource files with JSON or XML extensions are supported. To see the skipped files in the logs, use debug logging. (00:00.003 / 00:04.331, 1Gb)
Sushi: info  Found 1 non-JSON / non-XML file(s) in directory: /workspace/temp/ig-builds/smart.who.int.dak-smbp#1.0.0-milestone/input/resources. Only resource files with JSON or XML extensions are supported. To see the skipped files in the logs, use debug logging. (00:00.001 / 00:04.332, 1Gb)
Sushi: info  Found 1 non-JSON / non-XML file(s) in directory: /workspace/temp/ig-builds/smart.who.int.dak-smbp#1.0.0-milestone/input/vocabulary. Only resource files with JSON or XML extensions are supported. To see the skipped files in the logs, use debug logging. (00:00.001 / 00:04.334, 1Gb)
Sushi: info  Loaded virtual package sushi-local#LOCAL with 0 resources                               (00:00.001 / 00:04.335, 1Gb)
Sushi: info  Converting FSH to FHIR resources...                                                     (00:00.009 / 00:04.345, 1Gb)
Sushi: info  Exporting FHIR resources as JSON...                                                     (00:00.004 / 00:04.350, 1Gb)
Sushi: info  Exported 0 FHIR resources as JSON.                                                      (00:00.000 / 00:04.351, 1Gb)
Sushi: info  Assembling Implementation Guide sources...                                              (00:00.002 / 00:04.353, 1Gb)
Sushi: info  Generated ImplementationGuide-smart.who.int.dak-smbp.json                               (00:00.029 / 00:04.383, 1Gb)
Sushi: info  Assembled Implementation Guide sources; ready for IG Publisher.                         (00:00.000 / 00:04.383, 1Gb)
Sushi: ========================= SUSHI RESULTS ===========================                           (00:00.000 / 00:04.384, 1Gb)
Sushi: |  -------------------------------------------------------------  |                           (00:00.000 / 00:04.384, 1Gb)
Sushi: | |    Profiles   |  Extensions  |   Logicals   |   Resources   | |                           (00:00.000 / 00:04.385, 1Gb)
Sushi: | |-------------------------------------------------------------| |                           (00:00.000 / 00:04.386, 1Gb)
Sushi: | |       0       |      0       |      0       |       0       | |                           (00:00.000 / 00:04.386, 1Gb)
Sushi: |  -------------------------------------------------------------  |                           (00:00.000 / 00:04.387, 1Gb)
Sushi: |  -------------------------------------------------------------  |                           (00:00.000 / 00:04.387, 1Gb)
Sushi: | |      ValueSets     |    CodeSystems    |     Instances      | |                           (00:00.000 / 00:04.388, 1Gb)
Sushi: | |-------------------------------------------------------------| |                           (00:00.000 / 00:04.388, 1Gb)
Sushi: | |         0          |         0         |         0          | |                           (00:00.000 / 00:04.389, 1Gb)
Sushi: |  -------------------------------------------------------------  |                           (00:00.000 / 00:04.390, 1Gb)
Sushi: |                                                                 |                           (00:00.000 / 00:04.390, 1Gb)
Sushi: ===================================================================                           (00:00.000 / 00:04.391, 1Gb)
Sushi: | Why pun? Just for for the halibut.     0 Errors      0 Warnings |                           (00:00.000 / 00:04.391, 1Gb)
Sushi: ===================================================================                           (00:00.000 / 00:04.392, 1Gb)
Unable to load IG as an r5 IG - try R4 (property code is a class com.google.gson.JsonPrimitive looking for an object) (00:00.011 / 00:04.403, 1Gb)
Load Template from who.template.root#current                                                         (00:00.024 / 00:04.428, 1Gb)
 Load Template from fhir.base.template#current                                                       (00:00.403 / 00:04.832, 1Gb)
Root directory: /workspace/temp/ig-builds/smart.who.int.dak-smbp#1.0.0-milestone                     (00:01.682 / 00:06.515, 2Gb)
Terminology Cache is at /workspace/temp/ig-builds/smart.who.int.dak-smbp#1.0.0-milestone/input-cache/txcache. 4 files in cache (00:00.320 / 00:06.835, 2Gb)
Core Package hl7.fhir.r4.core#4.0.1
Signing Certificate: RSA key for Subject: OU=IG Publisher, L=Ann Arbor, CN=hl7.org, O=HL7, ST=Missouri, C=us from: OU=IG Publisher, L=Ann Arbor, CN=hl7.org, O=HL7, ST=Missouri, C=us
Running Terminology Log: /tmp/ohfu-fhir-ig-5450223389501425289.html
Connect to Terminology Server at http://tx.fhir.org                                                  (00:01.237 / 00:08.073, 1Gb)
[39mLoad Package hl7.fhir.pubpack#0.2.3
[0;39m[39mLoad Package hl7.fhir.xver-extensions#0.1.0
[0;39m[39mLoad Package hl7.terminology.r4#6.4.0
[0;39m[39mLoad Package hl7.fhir.uv.extensions.r4#5.2.0
[0;39m[39mLoad Package hl7.fhir.uv.extensions.r4#1.0.0
[0;39m[39mLoad Package hl7.terminology#5.5.0
[0;39m[39mLoad Package hl7.fhir.uv.extensions.r4#5.1.0
[0;39m[39mLoad Package hl7.fhir.uv.cql#1.0.0
[0;39m[39mLoad Package hl7.fhir.uv.crmi#1.0.0
[0;39mIgnore Dependency on Core FHIR hl7.fhir.r4.examples#4.0.1, from package 'hl7.fhir.uv.sdc#3.0.0'      (00:05.692 / 00:13.765, 1Gb)
[39mLoad Package hl7.fhir.uv.sdc#3.0.0
[0;39m[39mLoad Package smart.who.int.base#0.1.0
[0;39m[39mLoad Package hl7.fhir.uv.tools.r4#0.5.0
[0;39mLoad R5 Specials
Initialization complete                                                                              (00:01.171 / 00:14.937, 758Mb)
Load IG                                                                                              (00:00.001 / 00:14.938, 758Mb)
Load Content                                                                                         (00:00.001 / 00:14.939, 758Mb)
Using en-US as the default narrative language. (no language information in Implementation Guide)     (00:00.011 / 00:14.950, 763Mb)
Process Loaded Resources                                                                             (00:00.021 / 00:14.972, 765Mb)
Generating Snapshots                                                                                 (00:00.016 / 00:14.988, 770Mb)
loadPrePages from FetchedFile[/workspace/temp/ig-builds/smart.who.int.dak-smbp#1.0.0-milestone/fsh-generated/includes] as /workspace/temp/ig-builds/smart.who.int.dak-smbp#1.0.0-milestone/fsh-generated/includes
loadPrePages from FetchedFile[/workspace/temp/ig-builds/smart.who.int.dak-smbp#1.0.0-milestone/input/data] as /workspace/temp/ig-builds/smart.who.int.dak-smbp#1.0.0-milestone/input/data
loadPrePages from FetchedFile[/workspace/temp/ig-builds/smart.who.int.dak-smbp#1.0.0-milestone/input/pagecontent] as /workspace/temp/ig-builds/smart.who.int.dak-smbp#1.0.0-milestone/input/pagecontent
Fetch http://smart.who.int/dak-smbp/package-list.json for version check                              (00:00.023 / 00:15.012, 773Mb)
Processing Conformance Resources                                                                     (00:00.021 / 00:15.033, 774Mb)
Checking Language                                                                                    (00:00.000 / 00:15.034, 774Mb)
Load Dependency Info                                                                                 (00:00.001 / 00:15.035, 774Mb)
Load Info                                                                                            (00:00.001 / 00:15.036, 774Mb)
Load Paths                                                                                           (00:00.000 / 00:15.037, 775Mb)
Check R4 / R4B                                                                                       (00:00.000 / 00:15.038, 775Mb)
Assign Comparison Ids                                                                                (00:00.004 / 00:15.042, 777Mb)
Propagating status                                                                                   (00:00.000 / 00:15.043, 777Mb)
Generating Narratives                                                                                (00:00.000 / 00:15.044, 777Mb)
Validating Conformance Resources                                                                     (00:00.020 / 00:15.065, 786Mb)
Check profiles & code systems                                                                        (00:09.280 / 00:24.345, 1Gb)
Check realm rules                                                                                    (00:00.000 / 00:24.346, 1Gb)
Previous Version Comparison                                                                          (00:00.000 / 00:24.346, 1Gb)
Validating Resources                                                                                 (00:00.003 / 00:24.350, 1Gb)
Processing Provenance Records                                                                        (00:00.000 / 00:24.350, 1Gb)
Checking for Bundles to sign                                                                         (00:00.000 / 00:24.351, 1Gb)
Generating Outputs in /workspace/temp/ig-builds/smart.who.int.dak-smbp#1.0.0-milestone/output        (00:00.000 / 00:24.351, 1Gb)
Generate Native Outputs                                                                              (00:00.091 / 00:24.443, 1Gb)
Run Template                                                                                         (00:00.056 / 00:24.500, 1Gb)
Generate HTML Outputs                                                                                (00:00.599 / 00:25.099, 1Gb)
Generate Spreadsheets                                                                                (00:00.051 / 00:25.151, 1Gb)
Generate Summaries                                                                                   (00:00.000 / 00:25.151, 1Gb)
Generating Summary Outputs                                                                           (00:00.000 / 00:25.152, 1Gb)
DB Cumulative Time invested: 00:00:00.79
Sending Usage Stats to Server                                                                        (00:07.979 / 00:33.132, 1Gb)
## Memory (MB): Use = 2034, Free = 139, Total = 2174, Max = 4096                                     (00:00.001 / 00:33.133, 1Gb)
Reclaiming memory...                                                                                 (00:00.000 / 00:33.133, 1Gb)
## Memory (MB): Use = 862, Free = 1311, Total = 2174, Max = 4096                                     (00:00.401 / 00:33.535, 863Mb)
Run jekyll: jekyll build --destination "/workspace/temp/ig-builds/smart.who.int.dak-smbp#1.0.0-milestone/output" (in folder /workspace/temp/ig-builds/smart.who.int.dak-smbp#1.0.0-milestone/temp/pages) (00:00.001 / 00:33.536, 863Mb)
Troubleshooting Note: usual cases for Jekyll to fail are:                                            (00:00.000 / 00:33.537, 863Mb)
* A failure to produce a fragment that is already logged in the output above                         (00:00.000 / 00:33.538, 863Mb)
* A reference to a manually edited file that hasn't been provided                                    (00:00.000 / 00:33.538, 863Mb)
Jekyll: Source: /workspace/temp/ig-builds/smart.who.int.dak-smbp#1.0.0-milestone/temp/pages          (00:00.344 / 00:33.883, 864Mb)
Jekyll: Generating...                                                                                (00:00.000 / 00:33.884, 864Mb)
Jekyll: done in 0.45 seconds.                                                                        (00:00.449 / 00:34.333, 864Mb)
[39m
[0;39m[39mInstalling smart.who.int.dak-smbp#1.0.0
[0;39mChecking Output HTML                                                                                 (00:00.060 / 00:34.394, 873Mb)
found 615 files                                                                                      (00:00.003 / 00:34.398, 873Mb)
........................................
........................................
  ... 615 html files, 0 pages invalid xhtml (0%)                                                     (00:00.639 / 00:35.037, 1Gb)
  ... 1821 links, 0 broken links (0%)                                                                (00:00.000 / 00:35.038, 1Gb)
Generate fragment-usage-analysis.csv                                                                 (00:00.000 / 00:35.038, 1Gb)
Build final .zip                                                                                     (00:00.005 / 00:35.044, 1Gb)
Final .zip built                                                                                     (00:00.662 / 00:35.707, 1Gb)
Built. Times: loading: 00:00.094, generate: 00:22.811, narrative generation: 00:00.020, validation: 00:09.279, realm-rules: 00:00.000, previous-version: 00:00.000, jekyll: 00:00.803, template: 00:00.603 (#3) (00:02.137 / 00:37.844, 2Gb)
Generating QA                                                                                        (00:00.001 / 00:37.845, 2Gb)
Validation output in /workspace/temp/ig-builds/smart.who.int.dak-smbp#1.0.0-milestone/output/qa.html
Errors: 2, Warnings: 7, Info: 0, Broken Links: 0 (00:00.041 / 00:37.887, 2Gb)
Finished @ 7/1/25, 6:59â€¯AM. Max Memory Used = 2Gb. Log file saved in /tmp/fhir-ig-publisher-tmp.log  (00:00.001 / 00:37.889, 2Gb)
Keep a copy of the build directory at /workspace/temp/web-root/run-20250701/ig-build-zips/smart.who.int.dak-smbp#1.0.0.zip

ok. All checks passed. Publish v1.0.0 to /workspace/temp/web-root/run-20250701/dak-smbp/v1.0.0
Copy the IG to /workspace/temp/web-root/run-20250701/dak-smbp/v1.0.0
Update /workspace/temp/web-root/run-20250701/dak-smbp/package-list.json
Publish Box Statement: This page is part of the SMART DAK SMBP (v1.0.0: Release) based on <a data-no-external="true" href="http://hl7.org/fhir/R4">FHIR (HL7Â® FHIRÂ® Standard) R4</a>. This is the current published version in its permanent home (it will always be available at this URL).  For a full list of available versions, see the <a data-no-external="true" href="http://smart.who.int/dak-smbp/history.html">Directory of published versions</a>
  .. 35 files checked, 35 updated
  .. 5 clones checked, 10 updated
  .. 1 redirections (1 created/updated)
This is a milestone release - publish v1.0.0 to /workspace/temp/web-root/run-20250701/dak-smbp
Publish Box Statement: This page is part of the SMART DAK SMBP (v1.0.0: Release) based on <a data-no-external="true" href="http://hl7.org/fhir/R4">FHIR (HL7Â® FHIRÂ® Standard) R4</a>. This is the current published version.  For a full list of available versions, see the <a data-no-external="true" href="http://smart.who.int/dak-smbp/history.html">Directory of published versions</a>
  .. 35 files checked, 35 updated
  .. 5 clones checked, 10 updated
  .. 1 redirections (1 created/updated)
Check for Files to delete
  ... 0 files
Copy to new IG /workspace/temp/web-root/run-20250701/dak-smbp
[Fatal Error] :1:1: Content is not allowed in prolog.
Unable to process RSS feed /workspace/temp/web-root/run-20250701/publication-feed.xml as XML - processing as text instead (Content is not allowed in prolog.)
smart.who.int.dak-smbp (http://smart.who.int/dak-smbp): SMART DAK SMBP @ http://worldhealthorganization.github.io/smart-dak-smbp
  release: Releases 1.0.0/4.0.1 @ http://smart.who.int/dak-smbp/v1.0.0
Build is complete. Copy from /workspace/temp/web-root/run-20250701
Update history page at /workspace/temp/web-root/run-20250701/dak-smbp from /workspace/history-template and /workspace/webroot/templates
